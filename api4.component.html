<div class="container mt-4">
    <div class="row">
        <div class="col-lg-12 text-center">
            <h4>Total Users: {{contactlist.length}}</h4>
            <div class="row p-4 rounded-shadow">
                <div class="col-lg-3">
                    <h3 class="text-danger mt-3"><i class="text-warning fa-solid fa-user"></i> Add User Details</h3>
                    <div class="mb-3">
                        <label><i class="text-warning fa fa-users"></i> Full Name</label>
                        <input type="text" class="form-control" [(ngModel)]="name" />
                    </div>
                    <div class="mb-3">
                        <label><i class="text-warning fa fa-mobile"></i> Mobile No</label>
                        <input type="text" class="form-control" [(ngModel)]="mobile" />
                        <small class="text-danger">{{mobile | validmobile}}</small>
                    </div>
                    <div class="mb-3">
                        <label><i class="text-warning fa fa-inbox"></i> Email id</label>
                        <input type="text" class="form-control" [(ngModel)]="email" />
                        <small class="text-danger">{{email | validateemail}}</small>
                        <div class="mb-3">
                            <label><i class="text-warning fa fa-message"></i> Address</label>
                            <input type="text" class="form-control" [(ngModel)]="address"  maxlength="100"/>
                            <small class="text-danger">{{100 - (address| stringlength)}}</small>
                        </div>
                        <div class="text-center">
                            <button class="btn btn-success" (click)="save()">Submit</button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="mb-4 input-group">
                    <input type="text" class="me-4" [(ngModel)]="username" />
                    <button class="btn btn-primary" (click)="findUser()">Search</button>
                </div>
                    <table class="table table-striped mt-3 p-4 rounded-shadow">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th (click)="sortMe('fullname')">Full Name</th>
                                <th (click)="sortMe('email')">Email</th>
                                <th (click)="sortMe('mobile')">Mobile</th>
                                <th (click)="sortMe('address')">Address</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let contact of contactlist | paginate: { itemsPerPage: 3, currentPage: p }">
                                <td>{{contact._id}}</td>
                                <td>{{contact.fullname}}</td>
                                <td>{{contact.email}}</td>
                                <td>{{contact.mobile}}</td>
                                <td>{{contact.address}}</td>
                                <td class="p-3"> 
                                    <button class="btn btn-warning btn-sm me-2" (click)="editUser(contact)">Edit </button> 
                                    <button class="btn btn-danger btn-sm" (click)="delUser(contact._id)">Delete</button>
                                </td>

                            </tr>

                        </tbody>
                    </table>
                    <div class="text-center p-5">
                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </div>